import{_ as C,r as y,o as i,c as n,l as P,b as e,a as h,m as g,t as v,F as m,u as x,w as _,B as S,v as B,C as b,y as f,q as A,z as k,A as N}from"./index-df9d28fa.js";const I={data(){return{products:null}},created(){this.CallNewProductsApi()},methods:{async CallNewProductsApi(){await axios.get("https://localhost:7259/api/Product/NewProducts").then(t=>{this.products=t.data}).catch(t=>{console.log(t)})}}},O={class:"card card1"},j={class:"card-img-top"},T=["src"],V={class:"card-body fs-5"},D={class:"card-footer bg-white border-top-0 price"},Q={class:"me-3 fs-5"};function R(t,s,u,r,a,c){const p=y("router-link");return i(!0),n(m,null,P(a.products,l=>(i(),n("div",{class:"col-md-3 justify-content-center",key:l.id},[e("div",O,[h(p,{to:/Product/+l.id},{default:g(()=>[e("div",j,[e("img",{class:"d-block w-100 h-236px",src:"https://localhost:7027/ProductImgFiles/"+l.source,style:{width:"100%","object-fit":"cover"},alt:""},null,8,T)]),e("div",V,v(l.name.slice(0,18))+"... ",1),e("div",D,[e("div",Q,"NTD "+v(l.price),1)])]),_:2},1032,["to"])])]))),128)}const F=C(I,[["render",R],["__scopeId","data-v-6cdf173a"]]);const L={name:"AllProduct",props:["parentProduct"],data(){return{products:null}},watch:{parentProduct(){this.products=this.parentProduct}},created(){this.CallAllProductsApi()},methods:{async CallAllProductsApi(){await axios.get("https://localhost:7259/api/Product/AllProducts").then(t=>{this.products=t.data}).catch(t=>{console.log(t)})},async addToCart(t,s,u){if(s!=3){let r=document.querySelector(u),a=r.value,c=this.cartsSelect.indexOf(t);if(console.log("findIndex",c),console.log("input",r),console.log("count",a),s==1&&a==1){this.removeCartItem(t);return}if(s==2&&a==0){this.removeCartItem(t,!0);return}switch(s){case 0:this.cartsSelect[c].Qty++;break;case 1:this.cartsSelect[c].Qty--;break;case 2:this.cartsSelect[c].Qty=a;break}this.saveLocalStorage("cartsSelect",this.cartsSelect)}else{let r=this.cartsSelect.find(a=>a.Id==t.id);if(console.log("findProduct add",r),r){let a=this.cartsSelect.indexOf(r);this.cartsSelect[a].Qty++}else this.cartsSelect.push({Id:t.id,Qty:1,Name:t.name,Price:t.price});this.saveLocalStorage("cartsSelect",this.cartsSelect)}console.log(this.cartsSelect)},async removeCartItem(t,s){let u=this.cartsSelect.indexOf(t);u>-1&&this.$swal.fire(this.delSweetConfirm).then(r=>{r.isConfirmed?(this.cartsSelect.splice(u,1),this.saveLocalStorage("cartsSelect",this.cartsSelect)):s&&this.getlocalStorage("cartsSelect")})}}},$={class:"card card1"},U={class:"card-img-top"},q=["src"],M={class:"card-body fs-5"},z={class:"card-footer bg-white border-top-0 price"},E={class:"me-3 fs-5"};function K(t,s,u,r,a,c){const p=y("router-link");return i(!0),n(m,null,P(a.products,l=>(i(),n("div",{class:"col-md-3 justify-content-center",key:l.id},[e("div",$,[h(p,{to:/Product/+l.id},{default:g(()=>[e("div",U,[e("img",{class:"d-block w-100 h-236px",src:"https://localhost:7027/ProductImgFiles/"+l.source,style:{width:"100%","object-fit":"cover"},alt:""},null,8,q)]),e("div",M,v(l.name.slice(0,18))+"...",1),e("div",z,[e("div",E,"NTD "+v(l.price),1)])]),_:2},1032,["to"])])]))),128)}const G=C(L,[["render",K],["__scopeId","data-v-02f684b7"]]),H="/assets/01-5b8dde6f.png",J="/assets/02-9943941a.jpg";const W={components:{NewProduct:F,AllProduct:G},mixins:[x],name:"AllProducts",data(){return{Categorylist:[],Brandlist:[],optionCate:"0",optionbrand:"0",inputProName:"",ProductResult:[],priceS:0}},created(){this.scrollToTop(),this.CallCategorylistApi(),this.CallBrandlistApi()},methods:{async CallCategorylistApi(){await axios.get("https://localhost:7259/api/Category/Categorylist").then(t=>{console.log(t.data),this.Categorylist=t.data}).catch(t=>{console.log(t)})},async CallBrandlistApi(){await axios.get("https://localhost:7259/api/Brands/Brandlist").then(t=>{console.log(t),this.Brandlist=t.data}).catch(t=>{console.log(t)})},async CallSearchApi(){console.log(this.optionCate,this.optionbrand,this.inputProName),await axios.get(`https://localhost:7259/api/Product/Search?name=${this.inputProName}&categoryId=${this.optionCate}&brandId=${this.optionbrand}`).then(t=>{console.log(t.data),this.ProductResult=t.data}).catch(t=>{console.log(t)})},async CallOrderByPriceS(){await axios.get("https://localhost:7259/api/Product/OrderByPriceS").then(t=>{this.ProductResult=t.data}).catch(t=>{console.log(t)}),this.priceS=2},async CallOrderByPriceB(){await axios.get("https://localhost:7259/api/Product/OrderByPriceB").then(t=>{this.ProductResult=t.data}).catch(t=>{console.log(t)}),this.priceS=1}}},d=t=>(k("data-v-150c0a63"),t=t(),N(),t),X={class:"container h-100 py-5"},Y={id:"newProduct",class:"carousel slide carousel-fade newActivityCarousel","data-bs-ride":"carousel"},Z={class:"carousel-indicators"},tt=["data-bs-slide-to"],et=["data-bs-slide-to"],st={class:"carousel-inner"},ot={class:"carousel-item carouselImg active","data-bs-interval":"1500"},at=d(()=>e("img",{src:H,alt:"商城活動圖"},null,-1)),ct={class:"carousel-item carouselImg","data-bs-interval":"1500"},lt=d(()=>e("img",{src:J,alt:"商城活動圖"},null,-1)),rt=A('<button class="carousel-control-prev" type="button" data-bs-target="#newProduct" data-bs-slide="prev" data-v-150c0a63><span class="carousel-control-prev-icon" aria-hidden="true" data-v-150c0a63></span><span class="visually-hidden" data-v-150c0a63>Previous</span></button><button class="carousel-control-next" type="button" data-bs-target="#newProduct" data-bs-slide="next" data-v-150c0a63><span class="carousel-control-next-icon" aria-hidden="true" data-v-150c0a63></span><span class="visually-hidden" data-v-150c0a63>Next</span></button>',2),it=d(()=>e("div",{class:"newproduct"},"新品上市",-1)),nt={class:"row d-flex justify-content-center"},dt={class:"search_div"},ut={class:"d-flex justify-content-center"},pt=d(()=>e("option",{value:"0"},"所有類別",-1)),_t=["value"],ht=d(()=>e("option",{value:"0"},"所有品牌",-1)),vt=["value"],yt={class:"search d-flex m-2"},ft={class:"newproduct"},Pt=d(()=>e("i",{class:"fa-solid fa-arrow-up"},null,-1)),gt=d(()=>e("i",{class:"fa-solid fa-arrow-down"},null,-1)),mt=d(()=>e("i",{class:"fa-solid fa-arrow-up"},null,-1)),bt=d(()=>e("i",{class:"fa-solid fa-arrow-down"},null,-1)),Ct={class:"row m-3"};function St(t,s,u,r,a,c){const p=y("router-link"),l=y("NewProduct"),w=y("AllProduct");return i(),n("div",X,[e("div",Y,[e("div",Z,[e("div",null,[e("button",{type:"button","data-bs-target":"#newProduct",class:"active","aria-current":"true","data-bs-slide-to":t.index},null,8,tt),e("button",{type:"button","data-bs-target":"#newProduct","data-bs-slide-to":t.index},null,8,et)])]),e("div",st,[e("div",null,[e("div",ot,[h(p,{to:"/Product/13"},{default:g(()=>[at]),_:1})]),e("div",ct,[h(p,{to:"/DeatailProduct/"},{default:g(()=>[lt]),_:1})])])]),rt]),it,e("div",nt,[h(l)]),e("div",dt,[e("div",ut,[_(e("select",{onChange:s[0]||(s[0]=(...o)=>c.CallSearchApi&&c.CallSearchApi(...o)),name:"type",class:"type_select m-2","onUpdate:modelValue":s[1]||(s[1]=o=>a.optionCate=o)},[pt,(i(!0),n(m,null,P(a.Categorylist,o=>(i(),n("option",{key:o.name,value:o.id},v(o.name),9,_t))),128))],544),[[S,a.optionCate]]),_(e("select",{onChange:s[2]||(s[2]=(...o)=>c.CallSearchApi&&c.CallSearchApi(...o)),name:"brand",class:"type_select m-2","onUpdate:modelValue":s[3]||(s[3]=o=>a.optionbrand=o)},[ht,(i(!0),n(m,null,P(a.Brandlist,o=>(i(),n("option",{key:o.name,value:o.id},v(o.name),9,vt))),128))],544),[[S,a.optionbrand]]),e("div",yt,[_(e("input",{"onUpdate:modelValue":s[4]||(s[4]=o=>a.inputProName=o),type:"text",placeholder:"輸入商品關鍵字...",onKeyup:s[5]||(s[5]=(...o)=>c.CallSearchApi&&c.CallSearchApi(...o)),class:"search_input"},null,544),[[B,a.inputProName]])])])]),e("div",ft,[_(e("div",null,[e("button",{onClick:s[6]||(s[6]=(...o)=>c.CallOrderByPriceS&&c.CallOrderByPriceS(...o)),class:"filter_btn"},[f("價格 "),Pt]),e("button",{onClick:s[7]||(s[7]=(...o)=>c.CallOrderByPriceB&&c.CallOrderByPriceB(...o)),class:"filter_btn"},[f("價格 "),gt])],512),[[b,a.priceS===0]]),_(e("button",{onClick:s[8]||(s[8]=(...o)=>c.CallOrderByPriceS&&c.CallOrderByPriceS(...o)),class:"filter_btn"},[f("價格 "),mt],512),[[b,a.priceS===1]]),_(e("button",{onClick:s[9]||(s[9]=(...o)=>c.CallOrderByPriceB&&c.CallOrderByPriceB(...o)),class:"filter_btn"},[f("價格 "),bt],512),[[b,a.priceS===2]])]),e("div",Ct,[h(w,{parentProduct:a.ProductResult},null,8,["parentProduct"])])])}const xt=C(W,[["render",St],["__scopeId","data-v-150c0a63"]]);export{xt as default};
