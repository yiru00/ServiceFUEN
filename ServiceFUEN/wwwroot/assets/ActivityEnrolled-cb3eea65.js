import{_ as y,u as I,r as E,o as l,a as c,w as a,G as r,b as t,F as u,l as m,t as d,m as S,q as b,y as A,z as k,A as w}from"./index-c4b7e087.js";import{_ as x}from"./Spinner-1s-200px-2-0335de7c.js";const N={mixins:[I],computed:{groupedEnroll(){const e={};return this.enrolledData.forEach(o=>{const s=o.dateJoined.substring(0,7);e[s]||(e[s]=[]),e[s].push(o)}),e}},data(){return{enrolledData:[],isempty:!1,isloading:!0}},mounted(){this.scrollToTop(),this.getActivityEnrolled()},methods:{async getActivityEnrolled(){this.isempty=!1,this.isloading=!0;const o={memberId:await this.fetchMemberId()};fetch("https://localhost:7259/api/ActivityRecord/Enrolled",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then(s=>s.json()).then(s=>{this.isloading=!1,console.log("Success:",s),s.length==0&&(this.isempty=!0),this.enrolledData=s}).catch(s=>{console.error("Error:",s)})}}},v=e=>(k("data-v-1ff6d2a1"),e=e(),w(),e),T={class:"relative"},D={class:"month"},C={class:"list"},B={class:"listContent"},V={class:"coverImg"},j=["src"],F={class:"info"},J={class:"activityName"},O={class:"description"},q={class:"date"},z=v(()=>t("i",{class:"fa-solid fa-calendar-days"},null,-1)),G={class:"line"},L={class:"image-container"},M=v(()=>t("img",{src:x,alt:""},null,-1)),P=[M];function R(e,o,s,H,i,f){const g=E("router-link");return l(),c("div",T,[a(t("div",null,[(l(!0),c(u,null,m(f.groupedEnroll,(_,h)=>(l(),c("div",{key:h},[t("p",D,d(h),1),t("div",C,[(l(!0),c(u,null,m(_,(n,p)=>(l(),c("div",{key:p},[S(g,{to:"/Activity/"+n.activityId},{default:b(()=>[t("div",B,[t("div",V,[t("img",{src:n.coverImage,alt:"活動圖"},null,8,j)]),t("div",F,[t("p",J,d(n.activityName),1),t("p",O,d(n.description.slice(0,20))+"... ",1),t("p",q,[z,A(d(n.gatheringTime),1)])])]),a(t("div",G,null,512),[[r,p+1<_.length]])]),_:2},1032,["to"])]))),128))])]))),128))],512),[[r,!i.isempty&&!i.isloading]]),a(t("div",null,"沒有待參加的活動",512),[[r,i.isempty&&!i.isloading]]),a(t("div",L,P,512),[[r,i.isloading]])])}const U=y(N,[["render",R],["__scopeId","data-v-1ff6d2a1"]]);export{U as default};
