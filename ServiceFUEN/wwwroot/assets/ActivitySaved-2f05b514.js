import{_ as f,u as S,r as b,o as c,c as n,w as d,C as l,b as s,F as u,l as m,t as r,a as I,m as A,y as k,z as w,A as x}from"./index-df9d28fa.js";import{_ as N}from"./Spinner-1s-200px-2-0335de7c.js";const T={mixins:[S],data(){return{savedData:[],isempty:!1,isloading:!0}},computed:{groupedSave(){const e={};return this.savedData.forEach(o=>{const t=o.dateOfSave.substring(0,7);e[t]||(e[t]=[]),e[t].push(o)}),e}},mounted(){this.scrollToTop(),this.getActivitySaved()},methods:{async getActivitySaved(){this.isempty=!1,this.isloading=!0;const o={memberId:await this.fetchMemberId()};fetch("https://localhost:7259/api/ActivityRecord/Saved",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then(t=>t.json()).then(t=>{this.isloading=!1,console.log("Success:",t),t.length==0&&(this.isempty=!0),this.savedData=t}).catch(t=>{console.error("Error:",t)})}}},_=e=>(w("data-v-2bb9de29"),e=e(),x(),e),C={class:"relative"},D={class:"content"},B=_(()=>s("h4",null,"我的收藏活動",-1)),E=_(()=>s("div",{class:"line mb-4"},null,-1)),O={class:"month"},V={class:"list"},j={class:"listContent"},F={class:"coverImg"},z=["src"],J={class:"info"},L={class:"activityName"},M={class:"description"},P={class:"date"},R=_(()=>s("i",{class:"fa-solid fa-calendar-days"},null,-1)),q={class:"line"},G={class:"image-container"},H=_(()=>s("img",{src:N,alt:""},null,-1)),K=[H];function Q(e,o,t,U,i,g){const y=b("router-link");return c(),n("div",C,[d(s("div",null,[s("div",D,[B,E,(c(!0),n(u,null,m(g.groupedSave,(h,p)=>(c(),n("div",{key:p},[s("p",O,r(p),1),s("div",V,[(c(!0),n(u,null,m(h,(a,v)=>(c(),n("div",{key:v},[I(y,{to:"/Activity/"+a.activityId},{default:A(()=>[s("div",j,[s("div",F,[s("img",{src:a.coverImage,alt:"活動圖"},null,8,z)]),s("div",J,[s("p",L,r(a.activityName),1),s("p",M,r(a.description.slice(0,20))+"... ",1),s("p",P,[R,k(r(a.gatheringTime),1)])])]),d(s("div",q,null,512),[[l,v+1<h.length]])]),_:2},1032,["to"])]))),128))])]))),128))])],512),[[l,!i.isempty&&!i.isloading]]),d(s("div",null,"沒有收藏的活動",512),[[l,i.isempty&&!i.isloading]]),d(s("div",G,K,512),[[l,i.isloading]])])}const Y=f(T,[["render",Q],["__scopeId","data-v-2bb9de29"]]);export{Y as default};
