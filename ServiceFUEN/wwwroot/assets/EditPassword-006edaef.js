import{a as p}from"./axios-aba6f0e0.js";import{_ as n,u as c,o as _,c as w,b as s,w as i,v as a,p as h,f}from"./index-c008cf96.js";const u={mixins:[c],data(){return{oldpassword:"",password:"",confirmpassword:""}},methods:{editpassword(){if(!this.oldpassword||!this.password||!this.confirmpassword){this.showAlert("必須填入密碼");return}this.password!==this.confirmpassword?this.showAlert("兩次密碼不一樣"):p.post("https://localhost:7259/api/Members/EditPassword",{OldEncryptedPassword:this.oldpassword,EncryptedPassword:this.password,ConfirmEncryptedPassword:this.confirmpassword},{headers:{Authorization:"Bearer "+$.cookie("token")}}).then(o=>{o.data==="密碼有誤"?this.showAlert("密碼有誤"):(this.showAlert("密碼已修改"),this.$router.push("/HomeVie"))}).catch(o=>{console.log(o)})}}},r=o=>(h("data-v-c8f925e5"),o=o(),f(),o),m={class:"container"},v={class:"content"},x={class:"insert_editpassword"},y=r(()=>s("div",{class:"editpassword_user"},"變更密碼",-1)),b={class:"flex_middle"},E=r(()=>s("label",{for:"",class:"editpassword_text"},"舊密碼 :　",-1)),P={class:"flex_middle"},k=r(()=>s("label",{for:"",class:"editpassword_text"},"新密碼 :　",-1)),A={class:"flex_middle"},V=r(()=>s("label",{for:"",class:"editpassword_text"},"確認新密碼 :　",-1)),B={class:"editpassword_btn"};function I(o,e,q,S,d,l){return _(),w("section",null,[s("div",m,[s("div",v,[s("div",x,[y,s("div",b,[E,i(s("input",{type:"password","onUpdate:modelValue":e[0]||(e[0]=t=>d.oldpassword=t),placeholder:"舊密碼",class:"form-control",required:""},null,512),[[a,d.oldpassword]])]),s("div",P,[k,i(s("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=t=>d.password=t),placeholder:"輸入密碼",class:"form-control",required:""},null,512),[[a,d.password]])]),s("div",A,[V,i(s("input",{type:"password","onUpdate:modelValue":e[2]||(e[2]=t=>d.confirmpassword=t),placeholder:"重複密碼",class:"form-control",required:""},null,512),[[a,d.confirmpassword]])]),s("div",B,[s("button",{onClick:e[3]||(e[3]=(...t)=>l.editpassword&&l.editpassword(...t))},"送出")])])])])])}const C=n(u,[["render",I],["__scopeId","data-v-c8f925e5"]]);export{C as default};
