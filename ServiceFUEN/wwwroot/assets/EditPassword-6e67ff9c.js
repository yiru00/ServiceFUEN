import{a as p}from"./axios-aba6f0e0.js";import{_ as n,u as c,o as _,c as w,b as s,e as i,f as a,p as h,j as u}from"./index-9fdc7868.js";const f={mixins:[c],data(){return{oldpassword:"",password:"",confirmpassword:""}},methods:{editpassword(){if(!this.oldpassword||!this.password||!this.confirmpassword){this.showAlert("必須填入密碼");return}this.password!==this.confirmpassword?this.showAlert("兩次密碼不一樣"):p.post("https://localhost:7259/api/Members/EditPassword",{OldEncryptedPassword:this.oldpassword,EncryptedPassword:this.password,ConfirmEncryptedPassword:this.confirmpassword},{headers:{Authorization:"Bearer "+$.cookie("token")}}).then(o=>{o.data==="密碼有誤"?this.showAlert("密碼有誤"):(this.showAlert("密碼已修改"),this.$router.push("/HomeVie"))}).catch(o=>{console.log(o)})}}},r=o=>(h("data-v-04ad0596"),o=o(),u(),o),m={class:"container"},v={class:"content"},x={class:"insert_editpassword"},y=r(()=>s("div",{class:"editpassword_user"},"變更密碼",-1)),b={class:"flex_middle"},E=r(()=>s("label",{for:"",class:"editpassword_text"},"舊密碼 :　",-1)),P={class:"flex_middle"},k=r(()=>s("label",{for:"",class:"editpassword_text"},"新密碼 :　",-1)),A={class:"flex_middle"},M=r(()=>s("label",{for:"",class:"editpassword_text"},"確認新密碼 :　",-1)),V={class:"editpassword_btn"};function B(o,t,I,q,d,l){return _(),w("section",null,[s("div",m,[s("div",v,[s("div",x,[y,s("div",b,[E,i(s("input",{type:"password","onUpdate:modelValue":t[0]||(t[0]=e=>d.oldpassword=e),placeholder:"舊密碼",class:"form-control Mcontrol",required:""},null,512),[[a,d.oldpassword]])]),s("div",P,[k,i(s("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>d.password=e),placeholder:"輸入密碼",class:"form-control Mcontrol",required:""},null,512),[[a,d.password]])]),s("div",A,[M,i(s("input",{type:"password","onUpdate:modelValue":t[2]||(t[2]=e=>d.confirmpassword=e),placeholder:"重複密碼",class:"form-contro Mcontrol",required:""},null,512),[[a,d.confirmpassword]])]),s("div",V,[s("button",{onClick:t[3]||(t[3]=(...e)=>l.editpassword&&l.editpassword(...e))},"送出")])])])])])}const g=n(f,[["render",B],["__scopeId","data-v-04ad0596"]]);export{g as default};
