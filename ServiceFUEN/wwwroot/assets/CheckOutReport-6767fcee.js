import{_ as m,u as _,b as p,o as n,c as l,d as t,t as a,F as c,e as D}from"./index-44f62c83.js";const y={data(){return{loading:!1,hasTakeDatas:!1,paymentID:this.$route.params.id,paymentData:null,errSweetAlert:{title:"錯誤",icon:"error",confirmButtonText:"確定",confirmButtonColor:"#41b882"},successSweetAlert:{title:"成功",icon:"success",confirmButtonText:"確定",confirmButtonColor:"#41b882"}}},setup(){const e=_();return p(),{toHomePage:()=>{e.push("/homepage")}}},mounted(){console.log(this.paymentID),this.GetPaymentResult()},computed:{getOrderState(){let e="";if(this.paymentData&&this.paymentData.orderDetail)switch(this.paymentData.orderDetail.state){case-1:e="待付款";break;case 0:e="未出貨";break;case 1:e="已出貨";break;case 2:e="運送中";break;case 3:e="已簽收";break;case 4:e="已完成";break}return e}},methods:{foramtDateTime(e){let s=new Date(e),d=s.getFullYear(),u=s.getMonth(),r=s.getDate(),i=s.getHours(),o=s.getMinutes(),h=s.getSeconds();return`${d}/${u}/${r}/ ${i}:${o}:${h}`},async GetPaymentResult(){axios.get(`https://localhost:7259/api/ShoppingCart/GetPaymentResult?paymentId=${this.paymentID}`).then(e=>{e.data&&(this.paymentData=e.data.data,console.log(this.paymentData),this.hasTakeDatas=!0)}).catch(e=>{console.log(e.response.data),this.errSweetAlert.text=e.response.data.messsage||"其他錯誤",this.$swal.fire(this.errSweetAlert),this.errSweetAlert.text=""})}},components:{}},v=t("div",null,"結帳結果頁",-1),g={key:0},f=t("div",null,"付款編號:",-1),k=t("div",null,"結帳日期:",-1),b=t("div",null,"訂單狀態:",-1),$=t("div",null,"運送地址:",-1),S=t("br",null,null,-1),w=t("br",null,null,-1),x=t("div",null,"已購買商品:",-1),B=t("div",null,"名稱:",-1),T=t("div",null,"數量:",-1),I=t("div",null,"金額:",-1),A=t("br",null,null,-1),P=t("div",null,"原價:",-1),R=t("div",null,"折扣金額:",-1),N=t("div",null,"總金額:",-1),C={key:1};function F(e,s,d,u,r,i){return n(),l(c,null,[v,r.hasTakeDatas?(n(),l("div",g,[f,t("div",null,a(this.paymentID),1),k,t("div",null,a(this.foramtDateTime(this.paymentData.orderDetail.orderDate)),1),b,t("div",null,a(i.getOrderState),1),$,t("div",null,a(this.paymentData.orderDetail.address),1),S,w,x,(n(!0),l(c,null,D(this.paymentData.orderDetail.orderItems.$values,o=>(n(),l("div",{key:o.orderId},[B,t("div",null,a(o.productName),1),T,t("div",null,a(o.productNumber),1),I,t("div",null,a(o.productPrice*o.productNumber),1),A]))),128)),P,t("div",null,a(this.paymentData.toatalBefore),1),R,t("div",null,a(this.paymentData.minusAmount),1),N,t("div",null,a(this.paymentData.orderDetail.total),1)])):(n(),l("div",C," 查無結帳資料 "))],64)}const H=m(y,[["render",F]]);export{H as default};
