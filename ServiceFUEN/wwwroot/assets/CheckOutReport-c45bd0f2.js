import{_ as h,o as c,c as r,b as t,t as a,F as m,d as v,e as p,p as f,f as y}from"./index-c008cf96.js";const D={data(){return{orderDetail:{},orderItems:{},loading:!1,hasTakeDatas:!1,paymentData:{},errSweetAlert:{title:"錯誤",icon:"error",confirmButtonText:"確定",confirmButtonColor:"#41b882"},successSweetAlert:{title:"成功",icon:"success",confirmButtonText:"確定",confirmButtonColor:"#41b882"}}},async created(){console.log(this.paymentID),await this.GetPaymentResult(),this.orderDetail=this.paymentData.orderDetail,this.orderItems=this.orderDetail.orderItems,console.log(this.orderItems)},computed:{paymentID(){return this.$route.params.id},getOrderState(){let e="";if(this.paymentData&&this.paymentData.orderDetail)switch(this.paymentData.orderDetail.state){case-1:e="待付款";break;case 0:e="未出貨";break;case 1:e="已出貨";break;case 2:e="運送中";break;case 3:e="已簽收";break;case 4:e="已完成";break}return e}},methods:{foramtDateTime(e){let l=new Date(e),i=l.getFullYear(),u=l.getMonth(),o=l.getDate(),n=l.getHours(),d=l.getMinutes(),_=l.getSeconds();return`${i}/${u}/${o}/ ${n}:${d}:${_}`},async GetPaymentResult(){console.log(this.paymentID),await axios.get(`https://localhost:7259/api/ShoppingCart/GetPaymentResult?paymentId=${this.paymentID}`).then(e=>{e.data&&(this.paymentData=e.data.data,console.log(this.paymentData),this.hasTakeDatas=!0)}).catch(e=>{console.log(e.response.data),this.errSweetAlert.text=e.response.data.messsage||"其他錯誤",this.$swal.fire(this.errSweetAlert),this.errSweetAlert.text=""})}},components:{}},s=e=>(f("data-v-ed28f259"),e=e(),y(),e),b={class:"my-3 justify-content-center d-flex align-item-center"},g={class:"card col-6 shadow-lg"},x=p('<div class="row p-2 mt-3 justify-content-between mx-sm-2" data-v-ed28f259><div class="col-4" data-v-ed28f259></div><div class="col-4" data-v-ed28f259><div class="col justify-content-center align-items-center titletextset" data-v-ed28f259><h3 class="w-100" data-v-ed28f259>結帳結果頁</h3></div></div><div class="col-4" data-v-ed28f259><h4 class="irc_mi img-fluid bell" data-v-ed28f259>Karza!</h4></div></div><div class="row mx-auto justify-content-center text-center" data-v-ed28f259><div class="col-12 mt-3" data-v-ed28f259><nav aria-label="breadcrumb" class="second" data-v-ed28f259></nav></div></div>',2),w={class:"d-flex flex-column justify-content-around align-items-center"},I={class:"col-6"},S={class:"card border-0"},k=s(()=>t("div",{class:"card-header pb-0"},[t("p",{class:"text-muted mt-4 space"},"訂單資訊"),t("hr",{class:"my-2"})],-1)),B={class:"card-body"},T={class:"row justify-content-between"},j={class:"col-auto mt-0"},A=s(()=>t("div",null,"付款編號:",-1)),N=s(()=>t("br",null,null,-1)),C=s(()=>t("div",null,"結帳日期:",-1)),R=s(()=>t("br",null,null,-1)),$=s(()=>t("div",null,"訂單狀態:",-1)),O=s(()=>t("br",null,null,-1)),P=s(()=>t("div",null,"運送地址:",-1)),F=s(()=>t("div",{class:"col-auto"},null,-1)),G={class:"col-6"},M={class:"card border-0"},V={class:"card-header"},z=s(()=>t("p",{class:"card-text text-muted mt-4 space"},"商品明細",-1)),E=s(()=>t("hr",{class:"my-2"},null,-1)),H={class:""},K=s(()=>t("br",null,null,-1)),L=s(()=>t("br",null,null,-1)),Y=s(()=>t("br",null,null,-1)),q=s(()=>t("br",null,null,-1)),J=s(()=>t("br",null,null,-1)),Q=s(()=>t("br",null,null,-1));function U(e,l,i,u,o,n){return c(),r("div",b,[t("div",g,[x,t("div",w,[t("div",I,[t("div",S,[k,t("div",B,[t("div",T,[t("div",j,[A,t("div",null,a(n.paymentID),1),N,C,t("div",null,a(n.foramtDateTime(o.orderDetail.orderDate)),1),R,$,t("div",null,a(n.getOrderState),1),O,P,t("div",null,a(o.orderDetail.address),1)]),F])])])]),t("div",G,[t("div",M,[t("div",V,[z,E,t("div",H,[(c(!0),r(m,null,v(o.orderItems.$values,d=>(c(),r("div",{key:d.orderId},[t("div",null,"名稱: "+a(d.productName),1),K,t("div",null,"數量: "+a(d.productNumber),1),L,t("div",null,"金額: "+a(d.productPrice*d.productNumber),1),Y]))),128)),t("div",null,"原價: "+a(o.paymentData.toatalBefore),1),q,t("div",null,"折扣金額: "+a(o.paymentData.minusAmount),1),J,t("div",null,"總金額: "+a(o.orderDetail.total),1),Q])])])])])])])}const X=h(D,[["render",U],["__scopeId","data-v-ed28f259"]]);export{X as default};
