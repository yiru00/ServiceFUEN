import{_ as S,r as f,o as _,c as p,d as m,b as t,a as u,g as h,t as b,F as y,u as B,w as v,B as w,v as I,C as P,h as g,e as C,p as k,f as A}from"./index-c008cf96.js";const N={data(){return{products:null}},created(){this.CallNewProductsApi()},methods:{async CallNewProductsApi(){await axios.get("https://localhost:7259/api/Product/NewProducts").then(e=>{this.products=e.data}).catch(e=>{console.log(e)})}}},O={class:"card card1"},j={class:"card-img-top"},R=["src"],T={class:"card-body fs-5"},V={class:"card-footer bg-white border-top-0 price"},Q={class:"me-3 fs-5"};function D(e,s,d,i,a,c){const n=f("router-link");return _(!0),p(y,null,m(a.products,r=>(_(),p("div",{class:"col-md-3 justify-content-center",key:r.id},[t("div",O,[u(n,{to:/Product/+r.id},{default:h(()=>[t("div",j,[t("img",{class:"d-block w-100 h-236px",src:"https://localhost:7027/ProductImgFiles/"+r.source,style:{width:"100%","object-fit":"cover"},alt:""},null,8,R)]),t("div",T,b(r.name.slice(0,18))+"... ",1),t("div",V,[t("div",Q,"NTD "+b(r.price),1)])]),_:2},1032,["to"])])]))),128)}const F=S(N,[["render",D],["__scopeId","data-v-6cdf173a"]]);const L={name:"AllProduct",props:["parentProduct"],data(){return{products:null}},watch:{parentProduct(){this.products=this.parentProduct}},methods:{async addToCart(e,s,d){if(s!=3){let i=document.querySelector(d),a=i.value,c=this.cartsSelect.indexOf(e);if(console.log("findIndex",c),console.log("input",i),console.log("count",a),s==1&&a==1){this.removeCartItem(e);return}if(s==2&&a==0){this.removeCartItem(e,!0);return}switch(s){case 0:this.cartsSelect[c].Qty++;break;case 1:this.cartsSelect[c].Qty--;break;case 2:this.cartsSelect[c].Qty=a;break}this.saveLocalStorage("cartsSelect",this.cartsSelect)}else{let i=this.cartsSelect.find(a=>a.Id==e.id);if(console.log("findProduct add",i),i){let a=this.cartsSelect.indexOf(i);this.cartsSelect[a].Qty++}else this.cartsSelect.push({Id:e.id,Qty:1,Name:e.name,Price:e.price});this.saveLocalStorage("cartsSelect",this.cartsSelect)}console.log(this.cartsSelect)},async removeCartItem(e,s){let d=this.cartsSelect.indexOf(e);d>-1&&this.$swal.fire(this.delSweetConfirm).then(i=>{i.isConfirmed?(this.cartsSelect.splice(d,1),this.saveLocalStorage("cartsSelect",this.cartsSelect)):s&&this.getlocalStorage("cartsSelect")})}}},$={class:"card card1"},U={class:"card-img-top"},M=["src"],q={class:"card-body fs-5"},E={class:"card-footer bg-white border-top-0 price"},K={class:"me-3 fs-5"};function z(e,s,d,i,a,c){const n=f("router-link");return _(!0),p(y,null,m(a.products,r=>(_(),p("div",{class:"col-md-3 justify-content-center",key:r.id},[t("div",$,[u(n,{to:/Product/+r.id},{default:h(()=>[t("div",U,[t("img",{class:"d-block w-100 h-236px",src:"https://localhost:7027/ProductImgFiles/"+r.source,style:{width:"100%","object-fit":"cover"},alt:""},null,8,M)]),t("div",q,b(r.name.slice(0,18))+"...",1),t("div",E,[t("div",K,"NTD "+b(r.price),1)])]),_:2},1032,["to"])])]))),128)}const G=S(L,[["render",z],["__scopeId","data-v-6c796766"]]),H="/assets/01-5b8dde6f.png",J="/assets/02-9943941a.jpg",W="/assets/03-6d0412ae.jpg",X="/assets/04-58d7ecf9.jpg",Y="/assets/05-4145b0ac.jpg",Z="/assets/06-fdd0e993.jpg";const tt={components:{NewProduct:F,AllProduct:G},mixins:[B],name:"AllProducts",data(){return{Categorylist:[],Brandlist:[],optionCate:"0",optionbrand:"0",inputProName:"",ProductResult:[],priceS:0}},created(){this.scrollToTop(),this.CallCategorylistApi(),this.CallBrandlistApi(),this.CallSearchApi()},methods:{async CallCategorylistApi(){await axios.get("https://localhost:7259/api/Category/Categorylist").then(e=>{console.log(e.data),this.Categorylist=e.data}).catch(e=>{console.log(e)})},async CallBrandlistApi(){await axios.get("https://localhost:7259/api/Brands/Brandlist").then(e=>{console.log(e),this.Brandlist=e.data}).catch(e=>{console.log(e)})},async CallSearchApi(){console.log(this.optionCate,this.optionbrand,this.inputProName),await axios.get(`https://localhost:7259/api/Product/Search?name=${this.inputProName}&categoryId=${this.optionCate}&brandId=${this.optionbrand}`).then(e=>{console.log(e.data),this.ProductResult=e.data,this.priceS=0}).catch(e=>{console.log(e)})},OrderByPriceS(){let e=[];e=this.ProductResult.sort((s,d)=>s.price-d.price),this.ProductResult=e,this.priceS=2},OrderByPricedB(){let e=[];e=this.ProductResult.sort((s,d)=>d.price-s.price),this.ProductResult=e,this.priceS=1}}},l=e=>(k("data-v-450bf8a5"),e=e(),A(),e),et={class:"container h-100 py-5"},st={id:"newProduct",class:"carousel slide carousel-fade newActivityCarousel","data-bs-ride":"carousel"},ot=C('<div class="carousel-indicators" data-v-450bf8a5><div data-v-450bf8a5><button type="button" data-bs-target="#newProduct" class="active" aria-current="true" data-bs-slide-to="0" data-v-450bf8a5></button><button type="button" data-bs-target="#newProduct" data-bs-slide-to="1" data-v-450bf8a5></button><button type="button" data-bs-target="#newProduct" data-bs-slide-to="2" data-v-450bf8a5></button><button type="button" data-bs-target="#newProduct" data-bs-slide-to="3" data-v-450bf8a5></button><button type="button" data-bs-target="#newProduct" data-bs-slide-to="4" data-v-450bf8a5></button><button type="button" data-bs-target="#newProduct" data-bs-slide-to="5" data-v-450bf8a5></button></div></div>',1),at={class:"carousel-inner"},ct={class:"carousel-item carouselImg active","data-bs-interval":"1500"},rt=l(()=>t("img",{src:H,alt:"商城活動圖"},null,-1)),lt={class:"carousel-item carouselImg","data-bs-interval":"1500"},dt=l(()=>t("img",{src:J,alt:"商城活動圖"},null,-1)),it={class:"carousel-item carouselImg","data-bs-interval":"1500"},nt=l(()=>t("img",{src:W,alt:"商城活動圖"},null,-1)),ut={class:"carousel-item carouselImg","data-bs-interval":"1500"},_t=l(()=>t("img",{src:X,alt:"商城活動圖"},null,-1)),pt={class:"carousel-item carouselImg","data-bs-interval":"1500"},ht=l(()=>t("img",{src:Y,alt:"商城活動圖"},null,-1)),vt={class:"carousel-item carouselImg","data-bs-interval":"1500"},bt=l(()=>t("img",{src:Z,alt:"商城活動圖"},null,-1)),ft=C('<button class="carousel-control-prev" type="button" data-bs-target="#newProduct" data-bs-slide="prev" data-v-450bf8a5><span class="carousel-control-prev-icon" aria-hidden="true" data-v-450bf8a5></span><span class="visually-hidden" data-v-450bf8a5>Previous</span></button><button class="carousel-control-next" type="button" data-bs-target="#newProduct" data-bs-slide="next" data-v-450bf8a5><span class="carousel-control-next-icon" aria-hidden="true" data-v-450bf8a5></span><span class="visually-hidden" data-v-450bf8a5>Next</span></button>',2),gt=l(()=>t("div",{class:"newproduct"},"新品上市",-1)),mt={class:"row d-flex justify-content-center"},yt={class:"search_div"},Pt={class:"d-flex justify-content-center"},St=l(()=>t("option",{value:"0"},"所有類別",-1)),wt=["value"],Ct=l(()=>t("option",{value:"0"},"所有品牌",-1)),xt=["value"],Bt={class:"search d-flex m-2"},It={class:"newproduct"},kt=l(()=>t("i",{class:"fa-solid fa-arrow-up"},null,-1)),At=l(()=>t("i",{class:"fa-solid fa-arrow-down"},null,-1)),Nt=l(()=>t("i",{class:"fa-solid fa-arrow-up"},null,-1)),Ot=l(()=>t("i",{class:"fa-solid fa-arrow-down"},null,-1)),jt={class:"row m-3"};function Rt(e,s,d,i,a,c){const n=f("router-link"),r=f("NewProduct"),x=f("AllProduct");return _(),p("div",et,[t("div",st,[ot,t("div",at,[t("div",null,[t("div",ct,[u(n,{to:"/Product/31"},{default:h(()=>[rt]),_:1})]),t("div",lt,[u(n,{to:"/Product/34"},{default:h(()=>[dt]),_:1})]),t("div",it,[u(n,{to:"/Product/30"},{default:h(()=>[nt]),_:1})]),t("div",ut,[u(n,{to:"/Product/32"},{default:h(()=>[_t]),_:1})]),t("div",pt,[u(n,{to:"/Product/36"},{default:h(()=>[ht]),_:1})]),t("div",vt,[u(n,{to:"/Product/35"},{default:h(()=>[bt]),_:1})])])]),ft]),gt,t("div",mt,[u(r)]),t("div",yt,[t("div",Pt,[v(t("select",{onChange:s[0]||(s[0]=(...o)=>c.CallSearchApi&&c.CallSearchApi(...o)),name:"type",class:"type_select m-2","onUpdate:modelValue":s[1]||(s[1]=o=>a.optionCate=o)},[St,(_(!0),p(y,null,m(a.Categorylist,o=>(_(),p("option",{key:o.name,value:o.id},b(o.name),9,wt))),128))],544),[[w,a.optionCate]]),v(t("select",{onChange:s[2]||(s[2]=(...o)=>c.CallSearchApi&&c.CallSearchApi(...o)),name:"brand",class:"type_select m-2","onUpdate:modelValue":s[3]||(s[3]=o=>a.optionbrand=o)},[Ct,(_(!0),p(y,null,m(a.Brandlist,o=>(_(),p("option",{key:o.name,value:o.id},b(o.name),9,xt))),128))],544),[[w,a.optionbrand]]),t("div",Bt,[v(t("input",{"onUpdate:modelValue":s[4]||(s[4]=o=>a.inputProName=o),type:"text",placeholder:"輸入商品關鍵字...",onKeyup:s[5]||(s[5]=(...o)=>c.CallSearchApi&&c.CallSearchApi(...o)),class:"search_input"},null,544),[[I,a.inputProName]])])])]),t("div",It,[v(t("div",null,[t("button",{onClick:s[6]||(s[6]=(...o)=>c.OrderByPriceS&&c.OrderByPriceS(...o)),class:"filter_btn"},[g(" 價格 "),kt]),t("button",{onClick:s[7]||(s[7]=(...o)=>c.OrderByPricedB&&c.OrderByPricedB(...o)),class:"filter_btn"},[g(" 價格 "),At])],512),[[P,a.priceS===0]]),v(t("button",{onClick:s[8]||(s[8]=(...o)=>c.OrderByPriceS&&c.OrderByPriceS(...o)),class:"filter_btn"},[g(" 價格 "),Nt],512),[[P,a.priceS===1]]),v(t("button",{onClick:s[9]||(s[9]=(...o)=>c.OrderByPricedB&&c.OrderByPricedB(...o)),class:"filter_btn"},[g(" 價格 "),Ot],512),[[P,a.priceS===2]])]),t("div",jt,[u(x,{parentProduct:a.ProductResult},null,8,["parentProduct"])])])}const Vt=S(tt,[["render",Rt],["__scopeId","data-v-450bf8a5"]]);export{Vt as default};
