import{a as d}from"./axios-aba6f0e0.js";import{_ as A,r as u,o as i,c as n,a as g,b as e,h as p,t as r,d as f,w as v,F as w,p as k,j as y,m as x,e as m,v as S,f as I,n as N}from"./index-9fdc7868.js";const C={name:"ForumArticle",props:["parentArticles"],data(){return{showArticle:[]}},watch:{parentArticles(){this.showArticle=this.parentArticles}}},j=t=>(k("data-v-440c8089"),t=t(),y(),t),P={class:"d-flex align-items-center mb-2 justify-content-between"},T={class:"d-flex align-items-center justify-content-center"},L={class:"m-0 me-2"},O=j(()=>e("i",{class:"fa-solid fa-user-large me-2 userHead"},null,-1)),V={class:"m-0 ms-3"},B=["src"],M={class:"foremName"},D={class:"content mb-2"};function U(t,s,b,F,a,c){const h=u("router-link");return i(!0),n(w,null,g(a.showArticle,o=>(i(),n("div",{class:"post",key:o.id},[e("div",P,[e("div",T,[e("p",L,[O,p(" "+r(o.nickName),1)])]),e("p",V,r(o.time.replace("T"," ").slice(0,16)),1)]),f(h,{to:`/Forum/ArticleDetail/${o.articleId}`,class:"detailLink fs-4"},{default:v(()=>[p(r(o.title)+" ",1),e("img",{class:"imgsss",src:`https://localhost:7259/Images/${o.articlePhoto}`,alt:""},null,8,B)]),_:2},1032,["to"]),e("span",M,r(o.forumName),1),e("p",D,r(o.content),1)]))),128)}const E=A(C,[["render",U],["__scopeId","data-v-440c8089"]]);const H={name:"PopularArticle",data(){return{objforum:[],inputTitle:"",showArticle:[],changeArticle:""}},created(){this.callForumallApi(),this.callSearchApi()},mounted(){this.callSearchApi()},methods:{btncreateArticle(){},async callForumallApi(){await d.get("https://localhost:7259/api/Forum/ForumAll").then(t=>{console.log(t.data),this.objforum=t.data}).catch(t=>{console.log(t)})},async callForumOnceApi(t){await d.get(`https://localhost:7259/api/Article/ForumArticle?ForumId=${t}`).then(s=>{console.log(t),console.log("搜尋某看板成功"),this.showArticle=s.data}).catch(s=>{console.log(s)})},async callSearchApi(){await d.get(`https://localhost:7259/api/Article/Search?title=${this.inputTitle}`).then(t=>{console.log(t.data),this.showArticle=t.data}).catch(t=>{console.log(t)})},async callPopularArticleApi(){await d.get("https://localhost:7259/api/Article/PopularArticle").then(t=>{console.log(t.data),this.showArticle=t.data}).catch(t=>{console.log(t)})},async callLatestArticleApi(){await d.get("https://localhost:7259/api/Article/LatestArticle").then(t=>{console.log(t.data),this.showArticle=t.data}).catch(t=>{console.log(t)})},changeNewOld(){this.changeArticle==="熱門"?this.callPopularArticleApi():this.callLatestArticleApi()}},components:{Forumarticle:E},computed:{token(){return $.cookie("token")}}},_=t=>(k("data-v-a60a3e76"),t=t(),y(),t),K={class:"container article_bannero"},R={class:"d-flex row"},q={class:"forum col-2"},z={class:"card forumRoll"},G={class:"list-group list-group-flush"},J=_(()=>e("li",{class:"list-group-item forumall"},[e("a",{class:"fs-5 text-black"},"所有看板")],-1)),Q=["onClick"],W={class:"col-10"},X={class:"article"},Y={class:"card-header article_title"},Z={class:"d-flex justify-content-between align-items-center"},tt=_(()=>e("option",{value:"",class:"choice",disabled:""},"未選擇",-1)),et=_(()=>e("option",{class:"choice"},"熱門",-1)),st=_(()=>e("option",{class:"choice"},"最新",-1)),lt=[tt,et,st],ct={class:"articl_search"},ot={class:"article_change"},at={key:0,class:"article_create btn","data-bs-toggle":"modal","data-bs-target":"#loginModal"};function it(t,s,b,F,a,c){const h=u("router-link"),o=u("Forumarticle");return i(),n("div",K,[e("div",R,[e("div",q,[e("div",z,[e("ul",G,[J,(i(!0),n(w,null,g(a.objforum,l=>(i(),n("li",{key:l.id,class:"list-group-item forumother"},[e("a",{href:"#",class:"forumLink",onClick:rt=>c.callForumOnceApi(l.id)},r(l.name),9,Q)]))),128))])])]),e("div",W,[e("div",X,[e("div",Y,[e("div",Z,[e("a",{class:"nav-link active fs-3 me-3","aria-current":"true",onClick:s[0]||(s[0]=x((...l)=>c.callPopularArticleApi&&c.callPopularArticleApi(...l),["prevent"])),style:{cursor:"pointer"}},"全部文章"),m(e("select",{class:"article_category form-select","onUpdate:modelValue":s[1]||(s[1]=l=>a.changeArticle=l),onChange:s[2]||(s[2]=(...l)=>c.changeNewOld&&c.changeNewOld(...l))},lt,544),[[S,a.changeArticle]]),e("div",ct,[m(e("input",{"onUpdate:modelValue":s[3]||(s[3]=l=>a.inputTitle=l),type:"text",class:"article_texts form-control",placeholder:"輸入文章標題關鍵字...",onKeyup:s[4]||(s[4]=(...l)=>c.callSearchApi&&c.callSearchApi(...l))},null,544),[[I,a.inputTitle]])])]),e("div",ot,[c.token?(i(),N(h,{key:1,to:"/Forum/Create"},{default:v(()=>[e("button",{class:"article_create btn",onClick:s[5]||(s[5]=(...l)=>c.btncreateArticle&&c.btncreateArticle(...l))}," 新增文章 ")]),_:1})):(i(),n("button",at," 新增文章 "))])]),f(o,{parentArticles:a.showArticle},null,8,["parentArticles"])])])])])}const _t=A(H,[["render",it],["__scopeId","data-v-a60a3e76"]]);export{_t as default};
